import { describe } from 'vitest'
import { revealSabotage } from './challenge-19'

const TEST_CASES: TestCases<string[][], string[][]> = [
  {
    args: [
      ['*', ' ', ' ', ' '],
      [' ', ' ', '*', ' '],
      [' ', ' ', ' ', ' '],
      ['*', ' ', ' ', ' '],
    ],
    expected: [
      ['*', '2', '1', '1'],
      ['1', '2', '*', '1'],
      ['1', '2', '1', '1'],
      ['*', '1', ' ', ' '],
    ],
  },
  {
    args: [
      [' ', ' ', ' '],
      [' ', '*', ' '],
      [' ', ' ', ' '],
    ],
    expected: [
      ['1', '1', '1'],
      ['1', '*', '1'],
      ['1', '1', '1'],
    ],
  },
  {
    args: [
      ['*', ' ', ' '],
      [' ', '*', ' '],
      [' ', ' ', '*'],
    ],
    expected: [
      ['*', '2', '1'],
      ['2', '*', '2'],
      ['1', '2', '*'],
    ],
  },
  {
    args: [
      ['*', ' ', ' '],
      [' ', ' ', ' '],
      [' ', ' ', ' '],
    ],
    expected: [
      ['*', '1', ' '],
      ['1', '1', ' '],
      [' ', ' ', ' '],
    ],
  },
  {
    args: [
      ['*', '*', '*'],
      ['*', ' ', '*'],
      ['*', '*', '*'],
    ],
    expected: [
      ['*', '*', '*'],
      ['*', '8', '*'],
      ['*', '*', '*'],
    ],
  },
  {
    args: [['*', ' ', '*']],
    expected: [['*', '2', '*']],
  },
  {
    args: [
      ['*', ' ', ' '],
      [' ', ' ', ' '],
      [' ', ' ', '*'],
    ],
    expected: [
      ['*', '1', ' '],
      ['1', '2', '1'],
      [' ', '1', '*'],
    ],
  },
  {
    args: [
      ['*', ' ', ' ', ' ', ' '],
      [' ', ' ', ' ', ' ', ' '],
      [' ', ' ', '*', ' ', ' '],
      [' ', ' ', ' ', ' ', ' '],
      [' ', ' ', ' ', ' ', '*'],
    ],
    expected: [
      ['*', '1', ' ', ' ', ' '],
      ['1', '2', '1', '1', ' '],
      [' ', '1', '*', '1', ' '],
      [' ', '1', '1', '2', '1'],
      [' ', ' ', ' ', '1', '*'],
    ],
  },
]

describe('Challenge #19: Face the sabotage', () => {
  buildChallengeTestCases({
    cases: TEST_CASES,
    fn: revealSabotage,
  })
})
